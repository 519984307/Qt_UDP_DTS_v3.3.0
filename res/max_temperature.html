<!--
	此示例下载自 https://echarts.apache.org/examples/zh/editor.html?c=gauge-temperature
-->
<!DOCTYPE html>
<html lang="zh-CN" style="height: 100%">

<head>
    <meta charset="utf-8">
</head>

<body style="height: 100%; margin: 0">
    <div id="container" style="height: 100%"></div>


    <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5.3.3/dist/echarts.min.js"></script>
    <!-- Uncomment this line if you want to dataTool extension
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5.3.3/dist/extension/dataTool.min.js"></script>
  -->
    <!-- Uncomment this line if you want to use gl extension
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts-gl@2/dist/echarts-gl.min.js"></script>
  -->
    <!-- Uncomment this line if you want to echarts-stat extension
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts-stat@latest/dist/ecStat.min.js"></script>
  -->
    <!-- Uncomment this line if you want to use map
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@4.9.0/map/js/china.js"></script>
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@4.9.0/map/js/world.js"></script>
  -->
    <!-- Uncomment these two lines if you want to use bmap extension
  <script type="text/javascript" src="https://api.map.baidu.com/api?v=3.0&ak=YOUR_API_KEY"></script>
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5.3.3/dist/extension/bmap.min.js"></script>
  -->

    <script type="text/javascript">
        var dom = document.getElementById('container');
        var myChart = echarts.init(dom, {
            renderer: 'canvas',
            useDirtyRect: false
        });
        var app = {};

        var option;

        //随机值显示
        setInterval(function () {
            const random = +(Math.random() * 60).toFixed(2);
            myChart.setOption({
                series: [
                    {
                        data: [
                            {
                                value: random,
                                detail: {
                                    // color: 'auto'
                                }
                            }
                        ]
                    },
                    {
                        data: [
                            {
                                value: random,
                                detail: {
                                    // color: 'auto'
                                }
                            }
                        ]
                    }
                ]
            });
        }, 2000);

        function load() {
            option = {
                title: {
                    text: "最高温度",
                    textStyle: {
                        fontSize: 35,
                    },
                    x: "center"
                },
                series: [
                    {
                        type: 'gauge',
                        center: ['50%', '60%'],
                        startAngle: 200,
                        endAngle: -20,
                        min: 0,
                        max: 180,
                        splitNumber: 18,
                        itemStyle: {
                            // color: 'auto'
                            // color: '#fd666d'
                        },
                        progress: {
                            show: true,
                            width: 30
                        },
                        pointer: {
                            show: true,
                            itemStyle: {
                                color: 'auto'
                            }
                        },
                        axisLine: {
                            lineStyle: {
                                width: 30,
                                color: [
                                    // [0.3, '#67e0e3'],
                                    [0.2, '#37a2da'],
                                    [1, '#fd666d']
                                ]
                            }
                        },
                        axisTick: {
                            distance: -45,
                            splitNumber: 5,
                            lineStyle: {
                                width: 2,
                                color: 'auto'
                            }
                        },
                        splitLine: {
                            distance: -52,
                            length: 14,
                            lineStyle: {
                                width: 3,
                                color: 'auto'
                            }
                        },
                        axisLabel: {
                            distance: -20,
                            color: 'auto',

                            fontSize: 20
                        },
                        anchor: {
                            show: false
                        },
                        title: {
                            show: false
                        },
                        detail: {
                            valueAnimation: true,
                            width: '60%',
                            lineHeight: 40,
                            borderRadius: 8,
                            offsetCenter: [0, '-15%'],
                            fontSize: 60,
                            fontWeight: 'bolder',
                            formatter: '{value} °C',
                            // color: 'auto'

                        },
                        data: [
                            {
                                value: 0,
                                detail: {
                                    // color: 'auto'
                                }
                            }
                        ]
                    },
                    // {
                    //   type: 'gauge',
                    //   center: ['50%', '60%'],
                    //   startAngle: 200,
                    //   endAngle: -20,
                    //   min: 0,
                    //   max: 60,
                    //   itemStyle: {
                    //     color: '#FD7347'
                    //   },
                    //   progress: {
                    //     show: true,
                    //     width: 8
                    //   },
                    //   pointer: {
                    //     show: false
                    //   },
                    //   axisLine: {
                    //     show: false
                    //   },
                    //   axisTick: {
                    //     show: false
                    //   },
                    //   splitLine: {
                    //     show: false
                    //   },
                    //   axisLabel: {
                    //     show: false
                    //   },
                    //   detail: {
                    //     show: false
                    //   },
                    //   data: [
                    //     {
                    //       value: 20
                    //     }
                    //   ]
                    // }
                ]
            };

            if (option && typeof option === 'object') {
                myChart.setOption(option);
            }

        }

        function load2(str) {
            option = {
                title: {
                    text: "最高温度",
                    textStyle: {
                        fontSize: 35,
                    },
                    x: "center"
                },
                series: [
                    {
                        type: 'gauge',
                        center: ['50%', '60%'],
                        startAngle: 200,
                        endAngle: -20,
                        min: 0,
                        max: 180,
                        splitNumber: 18,
                        itemStyle: {
                            // color: 'auto'
                        },
                        progress: {
                            show: true,
                            width: 30
                        },
                        pointer: {
                            show: true,
                            itemStyle: {
                                color: 'auto'
                            }
                        },
                        axisLine: {
                            lineStyle: {
                                width: 30,
                                color: [
                                    // [0.3, '#67e0e3'],
                                    [0.2, '#37a2da'],
                                    [1, '#fd666d']
                                ]
                            }
                        },
                        axisTick: {
                            distance: -45,
                            splitNumber: 5,
                            lineStyle: {
                                width: 2,
                                color: 'auto'
                            }
                        },
                        splitLine: {
                            distance: -52,
                            length: 14,
                            lineStyle: {
                                width: 3,
                                color: 'auto'
                            }
                        },
                        axisLabel: {
                            distance: -20,
                            color: 'auto',
                            fontSize: 20
                        },
                        anchor: {
                            show: false
                        },
                        title: {
                            show: false
                        },
                        detail: {
                            valueAnimation: true,
                            width: '60%',
                            lineHeight: 40,
                            borderRadius: 8,
                            offsetCenter: [0, '-15%'],
                            fontSize: 60,
                            fontWeight: 'bolder',
                            formatter: '{value} °C',
                            // color: 'auto'
                        },
                        data: [
                            {
                                value: str["temperature"], //接受来自Qt的MAX_Temp
                                detail: {
                                    // color: 'auto'
                                }
                            }
                        ]
                    },
                    // {
                    //   type: 'gauge',
                    //   center: ['50%', '60%'],
                    //   startAngle: 200,
                    //   endAngle: -20,
                    //   min: 0,
                    //   max: 60,
                    //   itemStyle: {
                    //     color: '#FD7347'
                    //   },
                    //   progress: {
                    //     show: true,
                    //     width: 8
                    //   },
                    //   pointer: {
                    //     show: false
                    //   },
                    //   axisLine: {
                    //     show: false
                    //   },
                    //   axisTick: {
                    //     show: false
                    //   },
                    //   splitLine: {
                    //     show: false
                    //   },
                    //   axisLabel: {
                    //     show: false
                    //   },
                    //   detail: {
                    //     show: false
                    //   },
                    //   data: [
                    //     {
                    //       value: 20
                    //     }
                    //   ]
                    // }
                ]
            };

            if (option && typeof option === 'object') {
                myChart.setOption(option);
            }

        }

        function setSize(size) {
            // 首先�?取到元素
            var main = document.getElementById('main');
            main.style.width = size["width"] + "px";
            main.style.height = size["height"] + "px";
            myChart.resize();
        }

        window.addEventListener('resize', myChart.resize);

        load();

    </script>
</body>

</html>